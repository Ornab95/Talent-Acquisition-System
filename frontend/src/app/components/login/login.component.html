<app-navbar></app-navbar>
<div [class]="isDarkMode 
  ? 'flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black' 
  : 'flex items-center justify-center min-h-screen bg-gradient-to-br from-pink-500 via-orange-400 to-purple-600'">

  <div [class]="isDarkMode 
    ? 'bg-gray-800 shadow-2xl rounded-2xl w-[400px] p-8 flex flex-col justify-center relative overflow-hidden' 
    : 'bg-orange-200 shadow-2xl rounded-2xl w-[400px] p-8 flex flex-col justify-center relative overflow-hidden'">
    <!-- Decorative background shapes -->
    <h2 [class]="isDarkMode 
      ? 'text-2xl font-semibold text-white text-center mb-8 relative z-10' 
      : 'text-2xl font-semibold text-orange-900 text-center mb-8 relative z-10'">User Login</h2>

    <form (ngSubmit)="onSubmit()">

    <!-- Email -->
    <div class="relative z-10">
      <div class="relative mb-1">
        <input type="email" placeholder="Email" [(ngModel)]="credentials.email" name="email" 
          required email #email="ngModel" (keydown.enter)="onSubmit()"
          [class]="isDarkMode 
            ? 'w-full pl-10 pr-3 py-2 border border-gray-600 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500' 
            : 'w-full pl-10 pr-3 py-2 border border-orange-300 bg-orange-100 text-orange-900 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500'" />
        <i [class]="isDarkMode 
          ? 'fas fa-envelope text-blue-400 absolute left-3 icon-center' 
          : 'fas fa-envelope text-orange-500 absolute left-3 icon-center'"></i>
      </div>
      @if (email.invalid && (email.dirty || email.touched)) {
        <div class="text-red-500 text-xs mb-3">
          @if (email.hasError('required')) {
            <div>Email is required</div>
          }
          @if (email.hasError('email')) {
            <div>Please enter a valid email</div>
          }
        </div>
      } @else {
        <div class="mb-3"></div>
      }
    </div>

    <!-- Password -->
    <div class="relative z-10">
      <div class="relative mb-1">
        <input [type]="showPassword ? 'text' : 'password'" placeholder="Password" [(ngModel)]="credentials.password" name="password" 
          required minlength="6" #password="ngModel" (keydown.enter)="onSubmit()"
          [class]="isDarkMode 
            ? 'w-full pl-10 pr-10 py-2 border border-gray-600 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500' 
            : 'w-full pl-10 pr-10 py-2 border border-orange-300 bg-orange-100 text-orange-900 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500'" />
        <i [class]="isDarkMode 
          ? 'fas fa-lock text-blue-400 absolute left-3 icon-center' 
          : 'fas fa-lock text-orange-500 absolute left-3 icon-center'"></i>
        <button type="button" (click)="togglePasswordVisibility()" 
          [class]="isDarkMode 
            ? 'absolute right-3 icon-center text-blue-400 hover:text-blue-300' 
            : 'absolute right-3 icon-center text-orange-500 hover:text-orange-600'">
          <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
        </button>
      </div>
      @if (password.invalid && (password.dirty || password.touched)) {
        <div class="text-red-500 text-xs mb-6">
          @if (password.hasError('required')) {
            <div>Password is required</div>
          }
          @if (password.hasError('minlength')) {
            <div>Password must be at least 6 characters</div>
          }
        </div>
      } @else {
        <div class="mb-6"></div>
      }
    </div>

    <!-- Login Button -->
    <button type="button" (click)="onSubmit()" [disabled]="loading"
      [class]="isDarkMode 
        ? 'w-full py-2 rounded-md text-white font-medium border-2 border-blue-500 bg-gray-700 hover:bg-gray-600 transition-all relative z-10 text-sm' 
        : 'w-full py-2 rounded-md text-orange-900 font-medium border-2 border-orange-500 bg-orange-100 hover:bg-orange-300 hover:text-white transition-all relative z-10 text-sm'">
      <span *ngIf="!loading">LOGIN</span>
      <span *ngIf="loading">Loading...</span>
    </button>

    <!-- Error Message -->
    <div *ngIf="error" class="text-red-500 text-sm mt-2 text-center">
      {{ error }}
    </div>

    <!-- Links -->
    <div class="text-center text-sm mt-4 z-10">
      <a routerLink="/forgot-password" [class]="isDarkMode 
        ? 'text-blue-400 font-semibold hover:text-blue-300 transition-colors' 
        : 'text-orange-600 font-semibold hover:text-blue-400 transition-colors'">Forgot Password?</a>
    </div>

    <!-- <div [class]="isDarkMode 
      ? 'text-center text-sm text-gray-300 mt-6 z-10' 
      : 'text-center text-sm text-orange-900 mt-6 z-10'">
      <span>Don't have an account?</span> -->
    <!-- </div> -->
    
    <div [class]="isDarkMode 
      ? 'text-center text-sm text-gray-300 mt-4' 
      : 'text-center text-sm text-orange-900 mt-4'">
      <span>Don't have an account?</span>
      <a routerLink="/register" [class]="isDarkMode 
        ? 'text-blue-400 font-medium hover:underline ml-1' 
        : 'text-orange-600 font-medium hover:underline ml-1'">Sign up â†’</a>
    </div>
    </form>
  </div>
</div>